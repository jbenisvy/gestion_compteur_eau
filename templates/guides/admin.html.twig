{% extends 'base.html.twig' %}

{% block title %}Didacticiel Admin{% endblock %}

{% block body %}
<div class="container-fluid px-0">
  <section class="card border-0 shadow-sm mb-4">
    <div class="card-body">
      <div class="row g-4 align-items-start">
        <div class="col-lg-8">
          <h1 class="h2 mb-2">Didacticiel Admin</h1>
          <p class="text-muted mb-0">Guide d'administration: transfert de lot, historique, referentiel et saisie.</p>
        </div>
        <div class="col-lg-4">
          <div class="alert alert-info mb-0" role="alert">
            <strong>Prerequis</strong>
            <ul class="mb-0 mt-2">
              <li>Compte avec role <code>ROLE_ADMIN</code></li>
              <li>Migrations appliquees</li>
              <li>Sauvegarde DB avant corrections massives</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="row g-3">
    <div class="col-xl-6">
      <article class="card h-100 border-0 shadow-sm">
        <div class="card-body">
          <h3 class="h5">Page 1: Connexion admin</h3>
          <p class="mb-1">Route: <code>/admin/login</code></p>
          <ol class="mb-0">
            <li>Connectez-vous avec email + mot de passe.</li>
            <li>Vous etes redirige vers l'accueil admin.</li>
          </ol>
        </div>
      </article>
    </div>

    <div class="col-xl-6">
      <article class="card h-100 border-0 shadow-sm">
        <div class="card-body">
          <h3 class="h5">Page 2: Dashboard admin</h3>
          <p class="mb-1">Route: <code>/admin</code></p>
          <ol class="mb-0">
            <li>Verifiez l'annee active.</li>
            <li>Liste des lots au format: <strong>Lot XX Coproprietaire actif Description</strong>.</li>
            <li>Accedez aux modules Historique, Tableau, Parametres, Transfert, EasyAdmin.</li>
          </ol>
        </div>
      </article>
    </div>

    <div class="col-xl-6">
      <article class="card h-100 border-0 shadow-sm">
        <div class="card-body">
          <h3 class="h5">Page 3: Parametres forfaits</h3>
          <p class="mb-1">Route: <code>/admin/parametres</code></p>
          <ol class="mb-0">
            <li>Definissez l'annee active de saisie.</li>
            <li>Configurez forfait EC/EF par annee.</li>
          </ol>
        </div>
      </article>
    </div>

    <div class="col-xl-6">
      <article class="card h-100 border-0 shadow-sm">
        <div class="card-body">
          <h3 class="h5">Page 4: Transferer un lot</h3>
          <p class="mb-1">Route: <code>/admin/transfert-lot</code></p>
          <ol class="mb-0">
            <li>Selectionnez lot + nouveau coproprietaire.</li>
            <li>Choisissez la date d'effet (jusqu'a aujourd'hui).</li>
            <li>Appliquez le transfert puis controlez l'impact.</li>
          </ol>
        </div>
      </article>
    </div>

    <div class="col-xl-6">
      <article class="card h-100 border-0 shadow-sm">
        <div class="card-body">
          <h3 class="h5">Page 5: Historique global</h3>
          <p class="mb-1">Route: <code>/admin/historique</code></p>
          <ol class="mb-2">
            <li>Utilisez les tris: <code>NÂ° lot</code>, <code>Nom coproprietaire</code>, <code>Etage</code>.</li>
            <li>La liste affiche: <strong>Lot XX Coproprietaire actif Description</strong>.</li>
            <li>Ouvrez un lot pour analyser index et consommations.</li>
          </ol>
          <span class="badge text-bg-secondary">Tri coherent avec le coproprietaire actif</span>
        </div>
      </article>
    </div>

    <div class="col-xl-6">
      <article class="card h-100 border-0 shadow-sm">
        <div class="card-body">
          <h3 class="h5">Page 6: Tableau global</h3>
          <p class="mb-1">Route: <code>/admin/tableau</code></p>
          <ol class="mb-0">
            <li>Filtrez par annee ou affichez toutes les annees.</li>
            <li>Controlez l'affectation lot/copro au 1er janvier.</li>
          </ol>
        </div>
      </article>
    </div>

    <div class="col-xl-6">
      <article class="card h-100 border-0 shadow-sm">
        <div class="card-body">
          <h3 class="h5">Page 7: EasyAdmin</h3>
          <p class="mb-1">Route: <code>/admin/easy</code></p>
          <ol class="mb-0">
            <li>Gerez Utilisateurs, Coproprietaires, Lots, Compteurs, Etats, Releves.</li>
            <li>Controlez les details de releve et numeros historises.</li>
          </ol>
        </div>
      </article>
    </div>

    <div class="col-xl-6">
      <article class="card h-100 border-0 shadow-sm">
        <div class="card-body">
          <h3 class="h5">Page 8: Saisie par lot (admin)</h3>
          <p class="mb-1">Route: <code>/saisie/{lotId}/{annee}</code></p>
          <ol class="mb-2">
            <li>Meme ecran que le coproprietaire.</li>
            <li>Barre filtre: tri <code>Lot</code>/<code>Nom coproprietaire</code> + annee + Aller.</li>
            <li>Libelles: <code>Ind. n-1</code> et <code>Ind. n</code>.</li>
          </ol>
          <span class="badge text-bg-warning">Lecture seule si annee non active</span>
        </div>
      </article>
    </div>

    <div class="col-12">
      <article class="card border-0 shadow-sm">
        <div class="card-body">
          <h3 class="h5">Page 9: Referentiel compteurs</h3>
          <p class="mb-1">Route: <code>/admin/compteurs-reference</code></p>
          <div class="row g-3">
            <div class="col-lg-6">
              <ul class="list-group">
                <li class="list-group-item">Edition des 4 cases: EC SDB, EC Cuisine, EF SDB, EF Cuisine</li>
                <li class="list-group-item">Ajout de photo par case compteur</li>
                <li class="list-group-item">Suppression de photo active via bouton <code>Suppr.</code></li>
              </ul>
            </div>
            <div class="col-lg-6">
              <ul class="list-group">
                <li class="list-group-item">Acces a l'historique photo par compteur</li>
                <li class="list-group-item">Entetes de colonnes figees</li>
                <li class="list-group-item">Bouton Enregistrer toujours accessible (haut + flottant)</li>
              </ul>
            </div>
          </div>
        </div>
      </article>
    </div>
  </section>
</div>
{% endblock %}
